const _0x249b=['easy-git:\x20获取gitee\x20token失败。','https://gitee.com/api/v5/user/repos?access_token=','existsSync','projects','ETIMEDOUT','github','easy-git:\x20获取Github\x20token失败，请重新授权认证。','original','&scope=','未解析到有效参数，操作中止，请联系开发者。','easy-git:\x20获取Github用户登录名失败。','env','/orgs','https://api.github.com/user','exports','createCipheriv','authorize','https访问地址：','代码运行异常，请反馈给开发者。','map','出错，错误日志：','orgs','writeFile','openOAuthBox','Github','.gitee','path','关于授权，访问','\x20发生异常。','Gitee：身份信息无效，或权限不够，请重新授权认证。','读取token失败，请重新授权。','fail-authorize','includes','已授权，但是没有创建仓库权限，请重新授权','headers','获取gitee身份信息失败，请联系开发者。','createDecipheriv','我知道了','easygit-auth2021','readFileSync','easy-git','getUserRepos','授权成功','join','login','auth_','appData','easy-git:\x20获取Gitee访问凭证成功。<a\x20href=\x27https://easy-git.github.io/oauth\x27>了解如何使用</a>','log','处理请求失败。','Github：身份信息无效，或权限不够，请重新授权认证。','https://api.github.com/user/repos','ssh','client_secret','application/vnd.github.v3+json','开始创建','timeout','hex','machineIdSync','md5','axios','info','repo','query','data','utf8','已授权，但是没有创建仓库权限，请重新授权。','&response_type=code','utf-8',':\x20创建远程仓库\x20','stringify','https://api.github.com/user/orgs','读取授权数据，代码运行异常，请反馈给开发者。','?client_id=','assign','create','fail','ssh_url','https://gitee.com/oauth/authorize','[easy-git]\x20Github::','&redirect_uri=','readLocalToken','https','https://gitee.com/api/v5/user?access_token=','msg','https://gitee.com/api/v5/user/repos','success-authorize','oauth','https://gitee.com/oauth/token','easy-git:\x20处理schema请求成功。','easy-git:\x20获取Github访问凭证成功。<a\x20href=\x27https://easy-git.github.io/oauth\x27>了解如何使用</a>','exception','catch','redirect','length','https://github.com/login/oauth/authorize','update','getUserOrgs','client_id','homedir','status','onUriForResponse','displayError','ssh访问地址：','success','gitee','token-error','getToken','open_gitee_auth','scope','?grant_type=authorization_code&code=','splice','window','获取Github访问凭证异常，请稍后再试，请反馈给开发者。','Authorization','setStatusBarMessage','3fe043259ed4f8f7e4fa','aes256','error','token\x20','permission-denied','Accept','Bad\x20credentials','parse','response','access_token'];const _0x1946=function(_0x249bbb,_0x19463c){_0x249bbb=_0x249bbb-0x0;let _0x40ebe9=_0x249b[_0x249bbb];return _0x40ebe9;};const _0x24bcbe=require('os');const _0x12e7c5=require('fs');const _0x11ef5e=require('path');const _0x4beed9=require('hbuilderx');const _0x579dcf=require('crypto');const _0xd547ac=require('node-machine-id');const _0x476ae6=require(_0x1946('0x3c'));const _0x3f56a7=require('./count.js');const {createOutputChannel,hxShowMessageBox,mkdirsSync}=require('./utils.js');const _0x4341b0=_0x4beed9[_0x1946('0xb')][_0x1946('0x2e')];const _0x4a946f=_0x1946('0x26');function _0x4cd792(_0x42fcd8,_0x4bce75={},_0x106dff={},_0x7a47fd=0x2710){const _0x3d9c7a={};_0x3d9c7a['Accept']='application/json';let _0x56570d=_0x3d9c7a;if(JSON[_0x1946('0x46')](_0x106dff)!='{}'){_0x56570d=_0x106dff;};const _0x267760={};_0x267760[_0x1946('0x38')]=_0x7a47fd;_0x267760[_0x1946('0x22')]=_0x56570d;let _0x57db4a=_0x476ae6[_0x1946('0x4b')](_0x267760);return new Promise((_0x41d2dc,_0x109be1)=>{_0x57db4a['post'](_0x42fcd8,_0x4bce75)['then'](_0x2486f7=>{_0x41d2dc(_0x2486f7['data']);})['catch'](_0x2498e0=>{let _0x58599d=JSON[_0x1946('0x46')](_0x2498e0);createOutputChannel(_0x1946('0x1b')+_0x42fcd8+_0x1946('0x14')+_0x58599d);createOutputChannel('关于授权，授权出错，可能授权已过期，请重新授权。','error');if(_0x2498e0[_0x1946('0x7c')]){console['error']('[easy-git]\x20axios\x20request\x20::',_0x2498e0[_0x1946('0x7c')][_0x1946('0x40')],_0x2498e0[_0x1946('0x7c')]['status']);_0x109be1(_0x2498e0['response']['data']);}else{if(_0x2498e0['code']=='ECONNABORTED'){_0x109be1(_0x1946('0x4'));}else{_0x109be1(_0x2498e0);};};});})['catch'](_0x4ec4d=>{return _0x4ec4d;});};function _0x1aa7da(_0x5b3bd5,_0x316567={},_0x5e6e66=0x1388){const _0x180c65={};_0x180c65[_0x1946('0x38')]=_0x5e6e66;_0x180c65['headers']=_0x316567;const _0x136f03=_0x476ae6[_0x1946('0x4b')](_0x180c65);return new Promise((_0x567c90,_0x458ba6)=>{_0x136f03['get'](_0x5b3bd5)['then'](_0x59effd=>{_0x567c90(_0x59effd['data']);})['catch'](_0x273e3b=>{_0x458ba6(_0x1946('0x4c'));});})[_0x1946('0x5c')](_0x5f4407=>{return _0x5f4407;});};function _0x283cd9(){const _0x19ecd6=_0x24bcbe[_0x1946('0x63')]();const _0x2baeac={};_0x2baeac[_0x1946('0x7')]=!![];const _0x1f4e3c=_0xd547ac[_0x1946('0x3a')](_0x2baeac);const _0x415795=_0x1f4e3c+_0x19ecd6;return _0x579dcf['createHash'](_0x1946('0x3b'))['update'](_0x415795,_0x1946('0x41'))['digest'](_0x1946('0x39'));};function _0x482e7f(){const _0x4e291c=_0x4a946f;return _0x579dcf['createHash']('md5')['update'](_0x4e291c,'utf8')['digest'](_0x1946('0x39'));};function _0x21fc81(_0x2b644e){const _0x4db5fe=_0x283cd9();const _0x422e8a=_0x579dcf[_0x1946('0xf')](_0x1946('0x75'),_0x4db5fe,_0x4a946f);var _0x581a7a=_0x422e8a[_0x1946('0x60')](_0x2b644e,'utf8','hex');_0x581a7a+=_0x422e8a['final']('hex');return _0x581a7a;}function _0x236d6b(_0x2a8456,_0x5e9b22=![]){let _0x1335aa=_0x5e9b22?_0x482e7f():_0x283cd9();const _0xd898d7=_0x579dcf[_0x1946('0x24')](_0x1946('0x75'),_0x1335aa,_0x4a946f);var _0x4e1ab9=_0xd898d7['update'](_0x2a8456,'hex',_0x1946('0x41'));_0x4e1ab9+=_0xd898d7['final']('utf8');return _0x4e1ab9;}function _0x34be15(_0x357443){let _0x26e4a5={};let _0x22994e=_0x357443['split']('&');for(let _0x469150 of _0x22994e){let _0x26fd9e=_0x469150['split']('=');_0x26e4a5[_0x26fd9e[0x0]]=_0x26fd9e[0x1];};return _0x26e4a5;};function _0x329d69(_0x36cde4,_0xa62e5){const _0x19395e=_0x11ef5e[_0x1946('0x2b')](_0x4341b0,_0x1946('0x28'),'oauth');const _0x3c85ca=_0x11ef5e['join'](_0x19395e,_0x36cde4);const _0x2677f3=_0x12e7c5['existsSync'](_0x19395e);if(!_0x2677f3){mkdirsSync(_0x19395e);};try{_0x12e7c5[_0x1946('0x16')](_0x3c85ca,_0xa62e5,function(_0x7546f2){if(_0x7546f2)throw _0x7546f2;});}catch(_0x5bf51a){console['log'](_0x5bf51a);};};class _0xc3b4bc{constructor(){this['redirect']='hbuilderx://requestExtension/easy-git?source=gitee';this[_0x1946('0x62')]='433c3c5240b790d0ef7d4f119a2c31d7312b02120f82c80829719a4d2382190e';this[_0x1946('0x35')]='6d24805b4d7f691af328c11ae02431ad690cba85d6948d938378be7eeaba3e80d463c315cc606aeb48b3563eb228ea09b7909556e8ddd5d13416e1f496dbc436390945899be804478f2d55a48fd103fc';}[_0x1946('0x10')](_0x43a2a6=![]){const _0x2b37dc=_0x1946('0x4e');const _0x37c896=_0x2b37dc+_0x1946('0x49')+this['client_id']+_0x1946('0x50')+this['redirect']+_0x1946('0x43');try{_0x3f56a7(_0x1946('0x6c'))[_0x1946('0x5c')](_0x52175c=>{});}catch(_0x4a7438){};if(_0x43a2a6){_0x4beed9[_0x1946('0xb')]['openExternal'](_0x37c896);return undefined;}else{return _0x37c896;};}async['getUserOrgs'](_0x5e6611){let _0x434353='https://gitee.com/api/v5/users/'+_0x5e6611+_0x1946('0xc');let _0x42d02b=await _0x1aa7da(_0x434353)[_0x1946('0x5c')](_0x34324a=>{return'fail';});if(_0x42d02b!='fail'){let _0x48c851=_0x42d02b[_0x1946('0x13')](_0x39127f=>_0x39127f['login']);_0x48c851[_0x1946('0x6f')](0x0,0x0,_0x5e6611);return _0x48c851;}else{return _0x1946('0x4c');};}async['getUserInfo'](_0x40be3f){if(!_0x40be3f){return;};let _0x4c07ac=_0x1946('0x53')+_0x40be3f;let _0x448af0=await _0x1aa7da(_0x4c07ac)['catch'](_0x30df1d=>{return _0x1946('0x4c');});if(_0x448af0!='fail'){let {login}=_0x448af0;return login;}else{return _0x1946('0x4c');};}async[_0x1946('0x6b')](_0x4fd9d1,_0x5c547f=''){const _0x375d29={};_0x375d29['login']='';_0x375d29['orgs']=[];let _0x4bb999=_0x375d29;let _0x5bc500={};if(_0x4fd9d1&&_0x4fd9d1['length']){if(_0x4fd9d1[_0x1946('0x5e')]<0xa){const _0x171b93={};_0x171b93[_0x1946('0x64')]=_0x1946('0x1f');_0x171b93[_0x1946('0x54')]=_0x1946('0x23');return _0x171b93;};const _0x2e2b66=_0x236d6b(this['client_secret'],!![]);const _0x40f926=_0x1946('0x58');const _0xc2d77=_0x40f926+_0x1946('0x6e')+_0x4fd9d1+'&client_id='+this['client_id']+_0x1946('0x50')+this[_0x1946('0x5d')];const _0x13fdea={};_0x13fdea[_0x1946('0x35')]=_0x2e2b66;let _0x2312cb=_0x13fdea;_0x5bc500=await _0x4cd792(_0xc2d77,_0x2312cb)[_0x1946('0x5c')](_0x322a5f=>{return _0x322a5f;});if(_0x5bc500==_0x1946('0x4c')||!JSON[_0x1946('0x46')](_0x5bc500)[_0x1946('0x20')](_0x1946('0x7d'))){_0x4beed9['window']['setStatusBarMessage'](_0x1946('0x0'),0x2710,'error');const _0x41aca8={};_0x41aca8['status']='token-error';_0x41aca8['msg']='获取gitee\x20token失败，请重新授权。';return _0x41aca8;};}else{let _0x38e651='https://gitee.com/oauth/token?grant_type=refresh_token&refresh_token='+_0x5c547f;_0x5bc500=await _0x4cd792(_0x38e651)['catch'](_0x1e537a=>{return _0x1e537a;});if(_0x5bc500=='fail'||!JSON['stringify'](_0x5bc500)[_0x1946('0x20')](_0x1946('0x7d'))){const _0x541fff={};_0x541fff['status']='token-error';_0x541fff['msg']='获取gitee\x20token失败，请重新授权。';return _0x541fff;};};_0x4bb999[_0x1946('0x7d')]=_0x5bc500[_0x1946('0x7d')];_0x4bb999['scope']=_0x5bc500['scope'];let {access_token,refresh_token}=_0x5bc500;let _0x24bdbe=await this['getUserInfo'](access_token);if(_0x24bdbe!=_0x1946('0x4c')){_0x4bb999['login']=_0x24bdbe;};let _0x2c83fd=await this['getUserOrgs'](_0x4bb999[_0x1946('0x2c')]);if(_0x2c83fd!=_0x1946('0x4c')){_0x4bb999[_0x1946('0x15')]=_0x2c83fd;};let _0x59403c=Object['assign'](_0x4bb999,_0x5bc500);if(access_token){_0x59403c[_0x1946('0x7d')]=_0x21fc81(access_token);_0x59403c['refresh_token']=_0x21fc81(refresh_token);};_0x329d69(_0x1946('0x19'),JSON['stringify'](_0x59403c));let {scope}=_0x59403c;let _0x41d8d5=scope&&scope['includes'](_0x1946('0x3'))?'授权成功':'已授权，但是没有创建仓库权限，请重新授权';let _0x26d449=scope&&scope[_0x1946('0x20')]('projects')?'success-authorize':'permission-denied';if(_0x5c547f!=''){_0x4beed9['window'][_0x1946('0x73')]('easy-git:\x20获取Gitee访问凭证成功。<a\x20href=\x27https://easy-git.github.io/oauth\x27>了解如何使用</a>',0xbb8,'info');}else{_0x4beed9['window']['showInformationMessage'](_0x1946('0x2f'),['我知道了']);};const _0x3445ce={};_0x3445ce['status']=_0x26d449;_0x3445ce['msg']=_0x41d8d5;return Object['assign'](_0x3445ce,_0x4bb999);}async['readLocalToken'](_0x319f13=![]){const _0xf1f01c=_0x11ef5e['join'](_0x4341b0,'easy-git',_0x1946('0x57'),'.gitee');const _0x1ab50f=_0x12e7c5[_0x1946('0x2')](_0xf1f01c);if(!_0x1ab50f){const _0x2e73f9={};_0x2e73f9['status']='no-authorize';_0x2e73f9['msg']='您还未授权过gitee，请点击账号连接进行授权。';return _0x2e73f9;};let _0x218200=_0x12e7c5[_0x1946('0x27')](_0xf1f01c,_0x1946('0x44'));try{let _0x1ca365=JSON[_0x1946('0x7b')](_0x218200);let _0x4efe89=_0x1ca365 instanceof Object;if(!_0x4efe89){const _0x1934c8={};_0x1934c8[_0x1946('0x64')]=_0x1946('0x6a');_0x1934c8['msg']='获取gitee身份信息失败，请重新认证。';return _0x1934c8;};let {login,orgs,created_at,expires_in,access_token,scope,refresh_token}=_0x1ca365;let _0x58c383=created_at+expires_in;let _0x1b3736=Math['round'](new Date()/0x3e8)-0xb4;if(_0x1b3736<_0x58c383){let _0x514564=scope&&scope['includes'](_0x1946('0x3'))?'授权成功':_0x1946('0x21');let _0x2303f4=scope&&scope['includes'](_0x1946('0x3'))?_0x1946('0x56'):_0x1946('0x78');const _0x91ff81={};_0x91ff81[_0x1946('0x64')]=_0x2303f4;_0x91ff81['msg']=_0x514564;_0x91ff81['scope']=scope;_0x91ff81[_0x1946('0x2c')]=login;_0x91ff81[_0x1946('0x15')]=orgs;let _0x122db4=_0x91ff81;if(_0x319f13){_0x122db4['access_token']=_0x236d6b(access_token);};return _0x122db4;}else{let _0x59c09e=_0x236d6b(refresh_token);return this['getToken']('',_0x59c09e);};}catch(_0xea2294){createOutputChannel(_0x1946('0x48')+_0xea2294);const _0x7df372={};_0x7df372['status']='exception';_0x7df372['msg']=_0x1946('0x12');return _0x7df372;};}async[_0x1946('0x29')](){const _0x16bc1d={};_0x16bc1d[_0x1946('0x34')]=[];_0x16bc1d[_0x1946('0x52')]=[];let _0x1580e3=_0x16bc1d;let _0x26f2b2=await this[_0x1946('0x51')](!![]);let {status,access_token}=_0x26f2b2;if(!['success-authorize','permission-denied']['includes'](status)||!access_token){return'fail-authorize';};let _0xab1691=_0x1946('0x1')+access_token+'&per_page=100';let _0x4a0736=await _0x1aa7da(_0xab1691)['catch'](_0x96549c=>{return _0x1946('0x4c');});if(_0x4a0736=='fail'){return _0x1580e3;}else{_0x1580e3['ssh']=_0x4a0736[_0x1946('0x13')](_0x1b2969=>_0x1b2969[_0x1946('0x4d')]);_0x1580e3['https']=_0x4a0736[_0x1946('0x13')](_0x5f3e2e=>_0x5f3e2e['html_url']);return _0x1580e3;};}};class _0x4e3788{constructor(){this['client_id']=_0x1946('0x74');this['client_secret']='c0a45b8d480ea8bec9ef46c5e34f4f54b75ca0afed3e39da1ff7fed1b4238e33ceb8a2576a83478dda50fb523259dbf1';this[_0x1946('0x5d')]='hbuilderx://requestExtension/easy-git?source=github';this['scope']='repo';}['authorize'](_0x218232=![]){const _0x4025ca=_0x1946('0x5f');const _0xf1dbcc=_0x4025ca+_0x1946('0x49')+this['client_id']+'&redirect_uri='+this[_0x1946('0x5d')]+_0x1946('0x8')+this[_0x1946('0x6d')];try{_0x3f56a7('open_github_auth')['catch'](_0x538f7f=>{});}catch(_0x26d9b8){};if(_0x218232){_0x4beed9[_0x1946('0xb')]['openExternal'](_0xf1dbcc);return undefined;}else{return _0xf1dbcc;};}async['getUserInfo'](_0x493bdc){let _0x2b41e2=_0x1946('0xd');const _0x18b676={};_0x18b676[_0x1946('0x72')]='token\x20'+_0x493bdc;_0x18b676[_0x1946('0x79')]=_0x1946('0x36');let _0x48a773=_0x18b676;let _0x104d27=await _0x1aa7da(_0x2b41e2,_0x48a773)[_0x1946('0x5c')](_0xefd150=>{return _0x1946('0x4c');});if(_0x104d27!=_0x1946('0x4c')){let {login}=_0x104d27;return login;}else{_0x4beed9[_0x1946('0x70')]['setStatusBarMessage'](_0x1946('0xa'),0x2710,_0x1946('0x76'));return'fail';};}async['getUserOrgs'](_0x45329d){let _0x4127a0=_0x1946('0x47');const _0x4bee4d={};_0x4bee4d['Authorization']='token\x20'+_0x45329d;_0x4bee4d[_0x1946('0x79')]=_0x1946('0x36');let _0x2b44e0=_0x4bee4d;let _0x1a9742=await _0x1aa7da(_0x4127a0,_0x2b44e0)[_0x1946('0x5c')](_0x912218=>{return _0x1946('0x4c');});if(_0x1a9742!=_0x1946('0x4c')){let _0x3a1f20=_0x1a9742[_0x1946('0x13')](_0x16ca1f=>_0x16ca1f[_0x1946('0x2c')]);return _0x3a1f20;}else{_0x4beed9[_0x1946('0x70')]['setStatusBarMessage']('easy-git:\x20获取Github用户组织列表失败。',0x2710,'error');return'fail';};}async[_0x1946('0x6b')](_0xfc1fd0){let _0x1106e5={};if(_0xfc1fd0['length']<0xa){const _0x544768={};_0x544768['status']='fail-authorize';_0x544768['msg']='获取github身份信息失败，请联系开发者。';return _0x544768;};const _0x1c0f0e='https://github.com/login/oauth/access_token';const _0x4e1a81=_0x236d6b(this[_0x1946('0x35')],!![]);const _0x457404={};_0x457404[_0x1946('0x62')]=this[_0x1946('0x62')];_0x457404[_0x1946('0x35')]=_0x4e1a81;_0x457404['code']=_0xfc1fd0;let _0x150391=_0x457404;_0x1106e5=await _0x4cd792(_0x1c0f0e,_0x150391,{},0x4e20)['catch'](_0x4adc45=>{return _0x4adc45;});try{if(_0x1106e5==_0x1946('0x4')){let _0x360641='easy-git:\x20连接github网络超时，无法获取Github访问凭证。原因：ETIMEDOUT';return _0x4beed9[_0x1946('0x70')]['showInformationMessage'](_0x360641,['我知道了']);};let _0x129903=_0x1106e5 instanceof Object;if(!_0x129903){const _0x20fb85={};_0x20fb85[_0x1946('0x64')]='token-error';_0x20fb85[_0x1946('0x54')]='获取github凭证失败，请重新认证。';return _0x20fb85;};let {scope,access_token,message}=_0x1106e5;if(message==_0x1946('0x7a')){const _0x288d64={};_0x288d64[_0x1946('0x64')]='token-error';_0x288d64['msg']='获取github凭证失败，请联系开发者。原因：'+message+'。';return _0x288d64;};let _0x3ee428=JSON[_0x1946('0x46')](_0x1106e5);if(!_0x3ee428[_0x1946('0x20')](_0x1946('0x7d'))&&!_0x3ee428[_0x1946('0x20')](_0x1946('0x6d'))&&!_0x3ee428[_0x1946('0x20')]('token_type')){console[_0x1946('0x76')](_0x1946('0x4f'),_0x3ee428);_0x4beed9['window']['showInformationMessage'](_0x1946('0x6'),['我知道了']);const _0xffce94={};_0xffce94[_0x1946('0x64')]=_0x1946('0x6a');_0xffce94['msg']='Github网络请求失败，获取token失败，请重新授权。';return _0xffce94;};let _0x241783=scope&&scope[_0x1946('0x20')]('repo')?_0x1946('0x2a'):'已授权，但是没有创建仓库权限，请重新授权。';let _0x4f325e=scope&&scope[_0x1946('0x20')](_0x1946('0x3e'))?_0x1946('0x56'):_0x1946('0x78');if(access_token){_0x1106e5['access_token']=_0x21fc81(access_token);};try{let _0x4e73a0=await this['getUserInfo'](access_token);if(_0x4e73a0!=undefined&&_0x4e73a0!='fail'){const _0x34c6ea={};_0x34c6ea[_0x1946('0x2c')]=_0x4e73a0;_0x1106e5=Object['assign'](_0x34c6ea,_0x1106e5);};let _0x52fcdb=await this[_0x1946('0x61')](access_token);if(_0x52fcdb!=undefined&&_0x52fcdb!=_0x1946('0x4c')){const _0x263500={};_0x263500[_0x1946('0x15')]=_0x52fcdb;_0x1106e5=Object[_0x1946('0x4a')](_0x263500,_0x1106e5);};}catch(_0x3f057b){};_0x329d69('.github',JSON['stringify'](_0x1106e5));_0x4beed9['window']['showInformationMessage'](_0x1946('0x5a'),[_0x1946('0x25')]);const _0x2ef4e8={};_0x2ef4e8['status']=_0x4f325e;_0x2ef4e8['msg']=_0x241783;return Object[_0x1946('0x4a')](_0x2ef4e8,_0x1106e5);}catch(_0x20010c){createOutputChannel('easy-git:\x20获取Github访问凭证异常，请稍后再试，或反馈给开发者。',_0x1946('0x76'));console['error'](_0x20010c);createOutputChannel('错误日志:\x20'+_0x20010c,_0x1946('0x76'));const _0x1e04d1={};_0x1e04d1['status']=_0x1946('0x5b');_0x1e04d1['msg']=_0x1946('0x71');return _0x1e04d1;};}async[_0x1946('0x29')](){const _0x25e558={};_0x25e558[_0x1946('0x34')]=[];_0x25e558['https']=[];let _0x5cbc09=_0x25e558;let _0x4d99d0=await this['readLocalToken'](!![]);let {status,access_token}=_0x4d99d0;if(![_0x1946('0x56'),_0x1946('0x78')][_0x1946('0x20')](status)||!access_token){return _0x1946('0x1f');};let _0x1c8170=_0x1946('0x33');const _0x5bf5af={};_0x5bf5af[_0x1946('0x72')]=_0x1946('0x77')+access_token;_0x5bf5af[_0x1946('0x79')]=_0x1946('0x36');let _0x14a868=_0x5bf5af;let _0x130ebe=await _0x1aa7da(_0x1c8170,_0x14a868)[_0x1946('0x5c')](_0x47a9aa=>{return'fail';});if(_0x130ebe==_0x1946('0x4c')){return _0x5cbc09;}else{_0x5cbc09['ssh']=_0x130ebe[_0x1946('0x13')](_0xcd0360=>_0xcd0360[_0x1946('0x4d')]);_0x5cbc09[_0x1946('0x52')]=_0x130ebe[_0x1946('0x13')](_0x35bdcc=>_0x35bdcc['clone_url']);return _0x5cbc09;};}async['readLocalToken'](_0x431ef9=![]){const _0x25968c=_0x11ef5e['join'](_0x4341b0,_0x1946('0x28'),'oauth');const _0x24127e=_0x11ef5e[_0x1946('0x2b')](_0x25968c,'.github');const _0xc3f6cd=_0x12e7c5['existsSync'](_0x24127e);if(!_0xc3f6cd){const _0x2159d8={};_0x2159d8['status']='no-authorize';_0x2159d8[_0x1946('0x54')]='您还未授权过github，请点击账号连接进行授权。';return _0x2159d8;};let _0x457fd2=_0x12e7c5['readFileSync'](_0x24127e,'utf-8');try{let _0x5a3d4b=JSON[_0x1946('0x7b')](_0x457fd2);let _0x1b5ff8=_0x5a3d4b instanceof Object;if(!_0x1b5ff8){const _0x1be1e8={};_0x1be1e8[_0x1946('0x64')]=_0x1946('0x6a');_0x1be1e8['msg']='获取github身份信息失败，请重新认证。';return _0x1be1e8;};let {access_token,scope}=_0x5a3d4b;if(access_token&&access_token!=''){let _0xaf050c=scope&&scope[_0x1946('0x20')]('repo')?_0x1946('0x2a'):_0x1946('0x42');let _0x513e94=scope&&scope['includes'](_0x1946('0x3e'))?_0x1946('0x56'):_0x1946('0x78');const _0x2c27d2={};_0x2c27d2[_0x1946('0x64')]=_0x513e94;_0x2c27d2[_0x1946('0x54')]=_0xaf050c;_0x2c27d2[_0x1946('0x6d')]=scope;let _0x2b3922=_0x2c27d2;if(_0x431ef9){_0x2b3922[_0x1946('0x7d')]=_0x236d6b(access_token);};return _0x2b3922;}else{const _0xa3dcb1={};_0xa3dcb1[_0x1946('0x64')]='fail-authorize';_0xa3dcb1['msg']=_0x1946('0x1e');return _0xa3dcb1;};}catch(_0x3871f5){createOutputChannel('读取授权数据，代码运行异常，请反馈给开发者。'+_0x3871f5);const _0xfed759={};_0xfed759[_0x1946('0x64')]=_0x1946('0x5b');_0xfed759['msg']='代码运行异常，请反馈给开发者。';return _0xfed759;};}};class _0x3f5847{constructor(){}['getApiVersion'](){}[_0x1946('0x6b')](){}};function _0x4973bb(_0x486c24){let _0x130c69=_0x486c24 instanceof Object;if(!_0x130c69){let _0x1b9f6c=JSON['stringify'](_0x486c24);createOutputChannel(_0x1946('0x31')+_0x1b9f6c);return _0x1946('0x4c');}else{_0x4beed9['window']['setStatusBarMessage'](_0x1946('0x59'),0x61a8,_0x1946('0x3d'));};try{let _0x279e3d=_0x486c24[_0x1946('0x1a')];let _0xb3693a=_0x486c24[_0x1946('0x3f')];let _0x204cf6=_0x34be15(_0xb3693a);let {source,code,error,error_description}=_0x204cf6;if((code==null||!code||source==null||!source)&&error!=undefined){createOutputChannel(_0x1946('0x9'));if(error=='access_denied'){createOutputChannel(source+'服务器返回:\x20'+error_description+'。',_0x1946('0x76'));createOutputChannel('拒绝授权后，无法在easy-git内使用创建远程仓库等功能，请知悉。',_0x1946('0x76'));};return'fail';}else{_0x4beed9['window'][_0x1946('0x73')]('easy-git:\x20解析schema参数成功，正在获取Git托管服务器访问凭证...',0x61a8,'info');};switch(source){case _0x1946('0x69'):let _0x2e0597=new _0xc3b4bc();_0x2e0597[_0x1946('0x6b')](code);break;case _0x1946('0x5'):let _0x1fe732=new _0x4e3788();_0x1fe732['getToken'](code);break;default:break;};_0x4beed9['window']['clearStatusBarMessage']();let _0x101419=_0x1946('0x2d')+source+'_finish';_0x3f56a7(_0x101419)['catch'](_0x358d8b=>{});}catch(_0x713344){console[_0x1946('0x30')](_0x713344);createOutputChannel('处理uri异常。'+_0x713344);};};async function _0x15bbe9(_0x45f9c2){if(_0x45f9c2=='gitee'){let _0x5f7efb=new _0xc3b4bc();let _0x128eb1=await _0x5f7efb['readLocalToken'](!![]);let {status,access_token}=_0x128eb1;if(status!='success-authorize'&&access_token==''){createOutputChannel(_0x1946('0x1d'),'error');return _0x1946('0x4c');};return access_token;}else if(_0x45f9c2==_0x1946('0x5')){let _0x2a85af=new _0x4e3788();let _0x15fb26=await _0x2a85af['readLocalToken'](!![]);let {status,access_token}=_0x15fb26;if(status!='success-authorize'&&access_token==''){createOutputChannel(_0x1946('0x32'),_0x1946('0x76'));return'fail';};return access_token;}else{return _0x1946('0x4c');};};async function _0x391799(_0x59811d,_0x4d79d1){let {host,name,isPrivate,isClone,Protocol}=_0x59811d;let _0x9d1e92=await _0x15bbe9(host);if(_0x9d1e92=='fail'){_0x4d79d1[_0x1946('0x66')]('错误：token无效，请重新授权。');_0x4d79d1['setButtonStatus']('开始创建',[]);return;}let _0x25f21f='';if(host==_0x1946('0x69')){_0x25f21f=_0x1946('0x55');};if(host=='github'){_0x25f21f='https://api.github.com/user/repos';};const _0xa9d4e0={};_0xa9d4e0['name']=name;_0xa9d4e0['private']=isPrivate;let _0x596374=_0xa9d4e0;let _0xc84014={};if(host=='github'){const _0x23061f={};_0x23061f['Authorization']='token\x20'+_0x9d1e92;_0x23061f[_0x1946('0x79')]=_0x1946('0x36');_0xc84014=_0x23061f;};if(host=='gitee'){_0x596374['access_token']=_0x9d1e92;}let _0x2085bb=await _0x4cd792(_0x25f21f,_0x596374,_0xc84014)[_0x1946('0x5c')](_0x30641d=>{createOutputChannel(host+_0x1946('0x45')+name+_0x1946('0x1c'),'error');let _0x31b357=_0x30641d instanceof Object;if(_0x31b357){let _0x47b614=JSON['stringify'](_0x30641d);createOutputChannel(host+':\x20服务器返回，'+_0x47b614,'error');};_0x4d79d1['setButtonStatus'](_0x1946('0x37'),[]);return;});if(_0x2085bb){_0x4d79d1['setButtonStatus'](_0x1946('0x37'),[]);let {html_url,ssh_url,clone_url}=_0x2085bb;if(ssh_url==undefined){let _0x193b67=JSON['stringify'](_0x2085bb);createOutputChannel(host+':\x20'+name+'\x20远程仓库创建失败。返回:\x20'+_0x193b67,_0x1946('0x76'));const _0x3d0a24={};_0x3d0a24[_0x1946('0x64')]='fail';return _0x3d0a24;}else{createOutputChannel(host+':\x20'+name+'\x20远程仓库创建成功。',_0x1946('0x68'));_0x4d79d1['close']();};let _0x1be20e=html_url;if(html_url){createOutputChannel(_0x1946('0x11')+html_url);};if(clone_url){_0x1be20e=clone_url;createOutputChannel('https访问地址：'+clone_url);};if(ssh_url){createOutputChannel(_0x1946('0x67')+ssh_url+'\x0a\x0a');};if(isClone){const _0x49de6c=require('../view/clone/view_webdialog.js');let _0x19ad0d=ssh_url;if(Protocol=='http'){_0x19ad0d=_0x1be20e;};_0x49de6c(_0x19ad0d);}else{const _0x477135={};_0x477135['status']=_0x1946('0x68');_0x477135['ssh_url']=ssh_url;_0x477135['http_url']=_0x1be20e;return _0x477135;};};}async function _0x2036dc(){let _0x531cab='Git授权认证';let _0x1c87a9='您授权后，可以通过easy-git操作远程Git服务器某些功能，比如创建远程仓库，而无需再登录浏览器。\x0a\x0a【Git访问凭证】仅会存储在您的个人电脑上，不会在网络上保存您的任何信息。<a\x20href=\x27https://easy-git.github.io/oauth\x27>了解详情</a>\x0a\x0a\x20如曾经已授权，请忽略。请选择要授权的Git服务器';let _0x2156c5=[_0x1946('0x69'),_0x1946('0x5'),'关闭'];let _0x5e4eb3=await hxShowMessageBox(_0x531cab,_0x1c87a9,_0x2156c5);switch(_0x5e4eb3){case _0x1946('0x5'):let _0x2d086a=new _0x4e3788();_0x2d086a[_0x1946('0x10')](!![]);break;case _0x1946('0x69'):let _0x20da51=new _0xc3b4bc();_0x20da51[_0x1946('0x10')](!![]);break;default:break;};return _0x5e4eb3;};const _0xdeba77={};_0xdeba77['Gitee']=_0xc3b4bc;_0xdeba77[_0x1946('0x18')]=_0x4e3788;_0xdeba77['gitRepoCreate']=_0x391799;_0xdeba77[_0x1946('0x65')]=_0x4973bb;_0xdeba77[_0x1946('0x17')]=_0x2036dc;module[_0x1946('0xe')]=_0xdeba77;